---
// src/components/FooterPrincipal.astro

const { lang = 'es', locale: propLocale } = Astro.props as { lang?: string, locale?: Record<string,string> };

// Información de contacto
const infoContacto = {
  direccion: '46 C. Antonio R. Barcelo, Cidra, 00739',
  correo: 'cqvqpsc@gmail.com',
  telefono: '+1 (787) 398-7233',
  embedUrl: 'https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3023.771971714088!2d-66.16228358459461!3d18.17649978765275!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x8c02824989600001%3A0x861c4701e7423e85!2s46%20C.%20Antonio%20R.%20Barcelo%2C%20Cidra%2C%2000739%2C%20Puerto%20Rico!5e0!3m2!1ses!2sus!4v1678886400000!5m2!1ses!2sus'
};

// Enlaces de navegación (ajustan la ruta según el idioma)
const enlacesNavegacion = (lang === 'en')
  ? [ { nombre: 'Services', url: '/en/servicios' }, { nombre: 'Contact', url: '/en/contacto' } ]
  : [ { nombre: 'Servicios', url: '/servicios' }, { nombre: 'Contacto', url: '/contacto' } ];
---

<footer class="bg-gray-800 dark:bg-gray-900 text-white border-t border-indigo-500/50">
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-10 sm:py-16">
    
    <div class="grid grid-cols-1 md:grid-cols-3 gap-12">

      <div>
        <h3 class="text-xl font-bold mb-4 text-indigo-400">{lang === 'en' ? 'Quick Links' : 'Navegación Rápida'}</h3>
        <nav class="space-y-3">
          {enlacesNavegacion.map((link) => (
            <a 
              href={link.url} 
              class="block text-gray-300 hover:text-indigo-400 transition duration-150 text-lg"
            >
              {link.nombre}
            </a>
          ))}
        </nav>
      </div>

      <div>
        <h3 class="text-xl font-bold mb-4 text-indigo-400">{lang === 'en' ? 'Contact Us' : 'Contáctanos'}</h3>
        <address class="space-y-3 not-italic text-gray-300">
          
          <div class="flex items-start space-x-2">
            <svg class="w-5 h-5 text-indigo-400 mt-1 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.828 0L6.343 16.657A8 8 0 1117.657 16.657z"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"></path></svg>
            <p>
              Dirección: <br class="md:hidden"> {infoContacto.direccion}
            </p>
          </div>

          <div class="flex items-center space-x-2">
            <svg class="w-5 h-5 text-indigo-400" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8m-2 4v7a2 2 0 01-2 2H5a2 2 0 01-2-2v-7"></path></svg>
            <p>
              Correo: <a href={`mailto:${infoContacto.correo}`} class="hover:underline">{infoContacto.correo}</a>
            </p>
          </div>
          
          <div class="flex items-center space-x-2">
            <svg class="w-5 h-5 text-indigo-400" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.128a11.05 11.05 0 005.472 5.472l1.128-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-11a2 2 0 01-2-2v-11z"></path></svg>
            <p>
              Teléfono: <a href={`tel:${infoContacto.telefono}`} class="hover:underline">{infoContacto.telefono}</a>
            </p>
          </div>
        </address>
      </div>

      <div>
        <h3 class="text-xl font-bold mb-4 text-indigo-400">{lang === 'en' ? 'Our Location' : 'Nuestra Ubicación'}</h3>
        
        <div class="w-full aspect-video rounded-lg overflow-hidden shadow-lg border-2 border-indigo-600">
          <iframe 
            src={infoContacto.embedUrl} 
            width="100%" 
            height="100%" 
            allowfullscreen="" 
            loading="lazy" 
            referrerpolicy="no-referrer-when-downgrade"
            title="Ubicación de la oficina en Google Maps"
          >
          </iframe>
        </div>
        
        <p class="text-center text-sm mt-3 text-gray-400">
          {lang === 'en' ? 'Pan the map to interact.' : 'Desplázate sobre el mapa para interactuar.'}
        </p>
      </div>

    </div>

    <div class="mt-12 pt-8 border-t border-gray-700 text-center">
      <p class="text-gray-400 text-sm">
        © {new Date().getFullYear()} Vazquez Quiles Accounting. {lang === 'en' ? 'All rights reserved.' : 'Todos los derechos reservados.'}
      </p>
    </div>

  </div>
</footer>